"""
Конфигурационный файл pytest (conftest.py)

Этот файл содержит общие настройки и фикстуры для всех тестов.
Фикстуры - это функции, которые выполняются до и после тестов.
"""

import pytest
from selenium import webdriver


@pytest.fixture(scope="function")
def driver():
    """
    Фикстура для создания и управления веб-драйвером Selenium.
    
    Scope "function" означает, что драйвер создается заново для каждого теста.
    Это обеспечивает изоляцию тестов друг от друга.
    
    Процесс работы:
    1. Создается экземпляр Chrome WebDriver
    2. Окно браузера максимизируется
    3. Драйвер передается в тест через параметр driver
    4. После завершения теста браузер закрывается (driver.quit())
    
    Returns:
        WebDriver: Экземпляр веб-драйвера Chrome для управления браузером
    """
    # Создаем опции для Chrome браузера
    options = webdriver.ChromeOptions()
    
    # Создаем экземпляр драйвера с указанными опциями
    driver = webdriver.Chrome(options=options)
    
    # Максимизируем окно браузера для лучшей видимости элементов
    driver.maximize_window()
    
    # yield передает управление тесту, после завершения теста выполнится код после yield
    yield driver
    
    # Закрываем браузер после завершения теста
    driver.quit()
